<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="VizsgaMaui.MainPage"
             Title="CastL">

    <CollectionView x:Name="dataGrid"
                    VerticalScrollBarVisibility="Never">

        <CollectionView.ItemsLayout>
            <LinearItemsLayout Orientation="Vertical"
                               SnapPointsType="Mandatory"
                               SnapPointsAlignment="Start" />
        </CollectionView.ItemsLayout>

        <CollectionView.ItemTemplate>
            <DataTemplate>

                <Border Stroke="Gray"
                        StrokeThickness="2"
                        StrokeShape="RoundRectangle 20"
                        HeightRequest="745"
                        Margin="10">

                    <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto"
                          ColumnDefinitions="*,Auto"
                          RowSpacing="8">

                        <!-- IMAGE -->
                        <Image Grid.Row="0"
                               Grid.ColumnSpan="2"
                               HeightRequest="420"
                               Aspect="AspectFill"
                               Source="{Binding profilePictureUrl}" />

                        <!-- NAME -->
                        <Label Grid.Row="1"
                               Text="{Binding name}"
                               FontSize="30"
                               FontAttributes="Bold"
                               Margin="10,10,0,0"/>

                        <!-- EMAIL -->
                        <Label Grid.Row="2"
                               Text="{Binding email}"
                               FontSize="18"
                               TextColor="Gray"
                               Margin="10,0,0,0"/>

                        <!-- BIO -->
                        <Label Grid.Row="3"
                               Grid.ColumnSpan="2"
                               Text="{Binding bio}"
                               FontSize="15"
                               TextColor="Gray"
                               Margin="10,10,10,0"
                               MaxLines="3"
                               LineBreakMode="TailTruncation"/>

                        <!-- LIKE + TYPE -->
                        <HorizontalStackLayout Grid.Row="4"
                                               Grid.ColumnSpan="2"
                                               HorizontalOptions="End"
                                               Margin="0,118,30,0"
                                               Spacing="10">
                                    
 
                            <Border Stroke="Blue"
                                    StrokeThickness="1"
                                    StrokeShape="RoundRectangle 10"
                                    Padding="8,4">
                                <Label Text="{Binding userType}"
                                       FontSize="20"
                                       TextColor="Blue"/>
                            </Border>

                        </HorizontalStackLayout>

                    </Grid>

                    <!-- TAP TO DETAIL -->
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer
                            Tapped="OnUserTapped"
                            CommandParameter="{Binding id}" />
                    </Border.GestureRecognizers>

                </Border>

            </DataTemplate>
        </CollectionView.ItemTemplate>

    </CollectionView>
</ContentPage>
